{
    "document_type": "online_article",
    "title": "Forecasting: Principles and Practice (3rd ed)",
    "author": "Rob J Hyndman, George Athanasopoulos",
    "source": "https://otexts.com/fpp3/useful-predictors.html",
    "date_published": "23 March 2025",
    "flag": "",
    "text": "There are several useful predictors that occur frequently when using regression for time series data. It is common for time series data to be trending. A linear trend can be modelled by simply using\\(x_{1,t}=t\\)as a predictor,\\[\n  y_{t}= \\beta_0+\\beta_1t+\\varepsilon_t,\n\\]where\\(t=1,\\dots,T\\). A trend variable can be specified in theTSLM()function using thetrend()special. In Section7.7we discuss how we can also model nonlinear trends. So far, we have assumed that each predictor takes numerical values. But what about when a predictor is a categorical variable taking only two values (e.g., âyesâ and ânoâ)? Such a variable might arise, for example, when forecasting daily sales and you want to take account of whether the day is apublic holidayor not. So the predictor takes value âyesâ on a public holiday, and ânoâ otherwise. This situation can still be handled within the framework of multiple regression models by creating a âdummy variableâ which takes value 1 corresponding to âyesâ and 0 corresponding to ânoâ. A dummy variable is also known as an âindicator variableâ. A dummy variable can also be used to account for anoutlierin the data. Rather than omit the outlier, a dummy variable removes its effect. In this case, the dummy variable takes value 1 for that observation and 0 everywhere else. An example is the case where a special event has occurred. For example when forecasting tourist arrivals to Brazil, we will need to account for the effect of the Rio de Janeiro summer Olympics in 2016. If there are more than two categories, then the variable can be coded using several dummy variables (one fewer than the total number of categories).TSLM()will automatically handle this case if you specify a factor variable as a predictor. There is usually no need to manually create the corresponding dummy variables. Suppose that we are forecasting daily data and we want to account for the day of the week as a predictor. Then the following dummy variables can be created. Notice that only six dummy variables are needed to code seven categories. That is because the seventh category (in this case Sunday) is captured by the intercept, and is specified when the dummy variables are all set to zero. Many beginners will try to add a seventh dummy variable for the seventh category. This is known as the âdummy variable trapâ, because it will cause the regression to fail. There will be one too many parameters to estimate when an intercept is also included. The general rule is to use one fewer dummy variables than categories. So for quarterly data, use three dummy variables; for monthly data, use 11 dummy variables; and for daily data, use six dummy variables, and so on. The interpretation of each of the coefficients associated with the dummy variables is that it isa measure of the effect of that category relative to the omitted category. In the above example, the coefficient of\\(d_{1,t}\\)associated with Monday will measure the effect of Monday on the forecast variable compared to the effect of Sunday. An example of interpreting estimated dummy variable coefficients capturing the quarterly seasonality of Australian beer production follows. TheTSLM()function will automatically handle this situation if you specify the specialseason(). Recall the Australian quarterly beer production data shown again in Figure7.14. Figure 7.14: Australian quarterly beer production. We want to forecast the value of future beer production. We can model this data using a regression model with a linear trend and quarterly dummy variables,\\[\n  y_{t} = \\beta_{0} + \\beta_{1} t + \\beta_{2}d_{2,t} + \\beta_3 d_{3,t} + \\beta_4 d_{4,t} + \\varepsilon_{t},\n\\]where\\(d_{i,t} = 1\\)if\\(t\\)is in quarter\\(i\\)and 0 otherwise. The first quarter variable has been omitted, so the coefficients associated with the other quarters are measures of the difference between those quarters and the first quarter. Note thattrend()andseason()are not standard functions; they are âspecialâ functions that work within theTSLM()model formulae. There is an average downward trend of -0.34 megalitres per quarter. On average, the second quarter has production of 34.7 megalitres lower than the first quarter, the third quarter has production of 17.8 megalitres lower than the first quarter, and the fourth quarter has production of 72.8 megalitres higher than the first quarter. Figure 7.15: Time plot of beer production and predicted beer production. Figure 7.16: Actual beer production plotted against predicted beer production. It is often necessary to model interventions that may have affected the variable to be forecast. For example, competitor activity, advertising expenditure, industrial action, and so on, can all have an effect. When the effect lasts only for one period, we use a âspikeâ variable. This is a dummy variable that takes value one in the period of the intervention and zero elsewhere. A spike variable is equivalent to a dummy variable for handling an outlier. Other interventions have an immediate and permanent effect. If an intervention causes a level shift (i.e., the value of the series changes suddenly and permanently from the time of intervention), then we use a âstepâ variable. A step variable takes value zero before the intervention and one from the time of intervention onward. Another form of permanent effect is a change of slope. Here the intervention is handled using a piecewise linear trend; a trend that bends at the time of intervention and hence is nonlinear. We will discuss this in Section7.7. The number of trading days in a month can vary considerably and can have a substantial effect on sales data. To allow for this, the number of trading days in each month can be included as a predictor. An alternative that allows for the effects of different days of the week has the following predictors:\\[\\begin{align*}\n  x_{1} &= \\text{number of Mondays in month;} \\\\\n  x_{2} &= \\text{number of Tuesdays in month;} \\\\\n        & \\vdots \\\\\n  x_{7} &= \\text{number of Sundays in month.}\n\\end{align*}\\] It is often useful to include advertising expenditure as a predictor. However, since the effect of advertising can last beyond the actual campaign, we need to include lagged values of advertising expenditure. Thus, the following predictors may be used.\\[\\begin{align*}\n  x_{1} &= \\text{advertising for previous month;} \\\\\n  x_{2} &= \\text{advertising for two months previously;} \\\\\n        & \\vdots \\\\\n  x_{m} &= \\text{advertising for $m$ months previously.}\n\\end{align*}\\] It is common to require the coefficients to decrease as the lag increases, although this is beyond the scope of this book. Easter differs from most holidays because it is not held on the same date each year, and its effect can last for several days. In this case, a dummy variable can be used with value one where the holiday falls in the particular time period and zero otherwise. With monthly data, if Easter falls in March then the dummy variable takes value 1 in March, and if it falls in April the dummy variable takes value 1 in April. When Easter starts in March and finishes in April, the dummy variable is split proportionally between months. An alternative to using seasonal dummy variables, especially for long seasonal periods, is to use Fourier terms. Jean-Baptiste Fourier was a French mathematician, born in the 1700s, who showed that a series of sine and cosine terms of the right frequencies can approximate any periodic function. We can use them for seasonal patterns. If\\(m\\)is the seasonal period, then the first few Fourier terms are given by\\[\n  x_{1,t} = \\sin\\left(\\textstyle\\frac{2\\pi t}{m}\\right),\n  x_{2,t} = \\cos\\left(\\textstyle\\frac{2\\pi t}{m}\\right),\n  x_{3,t} = \\sin\\left(\\textstyle\\frac{4\\pi t}{m}\\right),\n\\]\\[\n  x_{4,t} = \\cos\\left(\\textstyle\\frac{4\\pi t}{m}\\right),\n  x_{5,t} = \\sin\\left(\\textstyle\\frac{6\\pi t}{m}\\right),\n  x_{6,t} = \\cos\\left(\\textstyle\\frac{6\\pi t}{m}\\right),\n\\]and so on. If we have monthly seasonality, and we use the first 11 of these predictor variables, then we will get exactly the same forecasts as using 11 dummy variables. With Fourier terms, we often need fewer predictors than with dummy variables, especially when\\(m\\)is large. This makes them useful for weekly data, for example, where\\(m\\approx 52\\). For short seasonal periods (e.g., quarterly data), there is little advantage in using Fourier terms over seasonal dummy variables. These Fourier terms are produced using thefourier()function. For example, the Australian beer data can be modelled like this. TheKargument tofourier()specifies how many pairs of sin and cos terms to include. The maximum allowed is\\(K=m/2\\)where\\(m\\)is the seasonal period. Because we have used the maximum here, the results are identical to those obtained when using seasonal dummy variables. If only the first two Fourier terms are used (\\(x_{1,t}\\)and\\(x_{2,t}\\)), the seasonal pattern will follow a simple sine wave. A regression model containing Fourier terms is often called aharmonic regressionbecause the successive Fourier terms represent harmonics of the first two Fourier terms."
}